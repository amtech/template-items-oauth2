function runAllForms(){$.fn.slider&&$(".slider").slider(),$.fn.select2&&$("select.select2").each(function(){var a=$(this),b=a.attr("data-select-width")||"100%";a.select2({allowClear:!0,width:b}),a=null}),$.fn.mask&&$("[data-mask]").each(function(){var a=$(this),b=a.attr("data-mask")||"error...",c=a.attr("data-mask-placeholder")||"X";a.mask(b,{placeholder:c}),a=null}),$.fn.autocomplete&&$("[data-autocomplete]").each(function(){var a=$(this),b=a.data("autocomplete")||["The","Quick","Brown","Fox","Jumps","Over","Three","Lazy","Dogs"];a.autocomplete({source:b}),a=null}),$.fn.datepicker&&$(".datepicker").each(function(){var a=$(this),b=a.attr("data-dateformat")||"dd.mm.yy";a.datepicker({dateFormat:b,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>'}),a=null}),$("button[data-loading-text]").on("click",function(){var a=$(this);a.button("loading"),setTimeout(function(){a.button("reset"),a=null},3e3)})}function runAllCharts(){if($.fn.sparkline){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb;$(".sparkline:not(:has(>canvas))").each(function(){var vb,J=$(this),ub=J.data("sparkline-type")||"bar";"bar"==ub&&(a=J.data("sparkline-bar-color")||J.css("color")||"#0000f0",b=J.data("sparkline-height")||"26px",c=J.data("sparkline-barwidth")||5,d=J.data("sparkline-barspacing")||2,e=J.data("sparkline-negbar-color")||"#A90329",f=J.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"],J.sparkline("html",{barColor:a,type:ub,height:b,barWidth:c,barSpacing:d,stackedBarColor:f,negBarColor:e,zeroAxis:"false"}),J=null),"line"==ub&&(b=J.data("sparkline-height")||"20px",bb=J.data("sparkline-width")||"90px",g=J.data("sparkline-line-color")||J.css("color")||"#0000f0",h=J.data("sparkline-line-width")||1,i=J.data("fill-color")||"#c0d0f0",j=J.data("sparkline-spot-color")||"#f08000",k=J.data("sparkline-minspot-color")||"#ed1c24",l=J.data("sparkline-maxspot-color")||"#f08000",m=J.data("sparkline-highlightspot-color")||"#50f050",n=J.data("sparkline-highlightline-color")||"f02020",o=J.data("sparkline-spotradius")||1.5,thisChartMinYRange=J.data("sparkline-min-y")||"undefined",thisChartMaxYRange=J.data("sparkline-max-y")||"undefined",thisChartMinXRange=J.data("sparkline-min-x")||"undefined",thisChartMaxXRange=J.data("sparkline-max-x")||"undefined",thisMinNormValue=J.data("min-val")||"undefined",thisMaxNormValue=J.data("max-val")||"undefined",thisNormColor=J.data("norm-color")||"#c0c0c0",thisDrawNormalOnTop=J.data("draw-normal")||!1,J.sparkline("html",{type:"line",width:bb,height:b,lineWidth:h,lineColor:g,fillColor:i,spotColor:j,minSpotColor:k,maxSpotColor:l,highlightSpotColor:m,highlightLineColor:n,spotRadius:o,chartRangeMin:thisChartMinYRange,chartRangeMax:thisChartMaxYRange,chartRangeMinX:thisChartMinXRange,chartRangeMaxX:thisChartMaxXRange,normalRangeMin:thisMinNormValue,normalRangeMax:thisMaxNormValue,normalRangeColor:thisNormColor,drawNormalOnTop:thisDrawNormalOnTop}),J=null),"pie"==ub&&(p=J.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],q=J.data("sparkline-piesize")||90,r=J.data("border-color")||"#45494C",s=J.data("sparkline-offset")||0,J.sparkline("html",{type:"pie",width:q,height:q,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> ({{percent.1}}%)',sliceColors:p,borderWidth:1,offset:s,borderColor:r}),J=null),"box"==ub&&(t=J.data("sparkline-width")||"auto",u=J.data("sparkline-height")||"auto",v=J.data("sparkline-boxraw")||!1,w=J.data("sparkline-targetval")||"undefined",x=J.data("sparkline-min")||"undefined",y=J.data("sparkline-max")||"undefined",z=J.data("sparkline-showoutlier")||!0,A=J.data("sparkline-outlier-iqr")||1.5,B=J.data("sparkline-spotradius")||1.5,C=J.css("color")||"#000000",D=J.data("fill-color")||"#c0d0f0",E=J.data("sparkline-whis-color")||"#000000",F=J.data("sparkline-outline-color")||"#303030",G=J.data("sparkline-outlinefill-color")||"#f0f0f0",H=J.data("sparkline-outlinemedian-color")||"#f00000",I=J.data("sparkline-outlinetarget-color")||"#40a020",J.sparkline("html",{type:"box",width:t,height:u,raw:v,target:w,minValue:x,maxValue:y,showOutliers:z,outlierIQR:A,spotRadius:B,boxLineColor:C,boxFillColor:D,whiskerColor:E,outlierLineColor:F,outlierFillColor:G,medianColor:H,targetColor:I}),J=null),"bullet"==ub&&(vb=J.data("sparkline-height")||"auto",K=J.data("sparkline-width")||2,L=J.data("sparkline-bullet-color")||"#ed1c24",M=J.data("sparkline-performance-color")||"#3030f0",N=J.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"],J.sparkline("html",{type:"bullet",height:vb,targetWidth:K,targetColor:L,performanceColor:M,rangeColors:N}),J=null),"discrete"==ub&&(O=J.data("sparkline-height")||26,P=J.data("sparkline-width")||50,Q=J.css("color"),R=J.data("sparkline-line-height")||5,S=J.data("sparkline-threshold")||"undefined",T=J.data("sparkline-threshold-color")||"#ed1c24",J.sparkline("html",{type:"discrete",width:P,height:O,lineColor:Q,lineHeight:R,thresholdValue:S,thresholdColor:T}),J=null),"tristate"==ub&&(U=J.data("sparkline-height")||26,V=J.data("sparkline-posbar-color")||"#60f060",W=J.data("sparkline-negbar-color")||"#f04040",X=J.data("sparkline-zerobar-color")||"#909090",Y=J.data("sparkline-barwidth")||5,Z=J.data("sparkline-barspacing")||2,_=J.data("sparkline-zeroaxis")||!1,J.sparkline("html",{type:"tristate",height:U,posBarColor:ab,negBarColor:W,zeroBarColor:X,barWidth:Y,barSpacing:Z,zeroAxis:_}),J=null),"compositebar"==ub&&(b=J.data("sparkline-height")||"20px",bb=J.data("sparkline-width")||"100%",c=J.data("sparkline-barwidth")||3,h=J.data("sparkline-line-width")||1,g=J.data("data-sparkline-linecolor")||"#ed1c24",ab=J.data("data-sparkline-barcolor")||"#333333",J.sparkline(J.data("sparkline-bar-val"),{type:"bar",width:bb,height:b,barColor:ab,barWidth:c}),J.sparkline(J.data("sparkline-line-val"),{width:bb,height:b,lineColor:g,lineWidth:h,composite:!0,fillColor:!1}),J=null),"compositeline"==ub&&(b=J.data("sparkline-height")||"20px",bb=J.data("sparkline-width")||"90px",cb=J.data("sparkline-bar-val"),db=J.data("sparkline-bar-val-spots-top")||null,eb=J.data("sparkline-bar-val-spots-bottom")||null,fb=J.data("sparkline-line-width-top")||1,gb=J.data("sparkline-line-width-bottom")||1,hb=J.data("sparkline-color-top")||"#333333",ib=J.data("sparkline-color-bottom")||"#ed1c24",jb=J.data("sparkline-spotradius-top")||1.5,kb=J.data("sparkline-spotradius-bottom")||jb,j=J.data("sparkline-spot-color")||"#f08000",lb=J.data("sparkline-minspot-color-top")||"#ed1c24",mb=J.data("sparkline-maxspot-color-top")||"#f08000",nb=J.data("sparkline-minspot-color-bottom")||lb,ob=J.data("sparkline-maxspot-color-bottom")||mb,pb=J.data("sparkline-highlightspot-color-top")||"#50f050",qb=J.data("sparkline-highlightline-color-top")||"#f02020",rb=J.data("sparkline-highlightspot-color-bottom")||pb,thisHighlightLineColor2=J.data("sparkline-highlightline-color-bottom")||qb,sb=J.data("sparkline-fillcolor-top")||"transparent",tb=J.data("sparkline-fillcolor-bottom")||"transparent",J.sparkline(cb,{type:"line",spotRadius:jb,spotColor:j,minSpotColor:lb,maxSpotColor:mb,highlightSpotColor:pb,highlightLineColor:qb,valueSpots:db,lineWidth:fb,width:bb,height:b,lineColor:hb,fillColor:sb}),J.sparkline(J.data("sparkline-line-val"),{type:"line",spotRadius:kb,spotColor:j,minSpotColor:nb,maxSpotColor:ob,highlightSpotColor:rb,highlightLineColor:thisHighlightLineColor2,valueSpots:eb,lineWidth:gb,width:bb,height:b,lineColor:ib,composite:!0,fillColor:tb}),J=null)})}$.fn.easyPieChart&&$(".easy-pie-chart").each(function(){var a=$(this),b=a.css("color")||a.data("pie-color"),c=a.data("pie-track-color")||"rgba(0,0,0,0.04)",d=parseInt(a.data("pie-size"))||25;a.easyPieChart({barColor:b,trackColor:c,scaleColor:!1,lineCap:"butt",lineWidth:parseInt(d/8.5),animate:1500,rotate:-90,size:d,onStep:function(a,b,c){$(this.el).find(".percent").text(Math.round(c))}}),a=null})}function setup_widgets_desktop(){$.fn.jarvisWidgets&&enableJarvisWidgets&&$("#widget-grid").jarvisWidgets({grid:"article",widgets:".jarviswidget",localStorage:localStorageJarvisWidgets,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:sortableJarvisWidgets,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone!",deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){alert("Hello you, this is a custom button...")},customEnd:function(){alert("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:$.navAsAjax})}function setup_widgets_mobile(){enableMobileWidgets&&enableJarvisWidgets&&setup_widgets_desktop()}function loadScript(a,b){var c,d,e;jsArray[a]?debugState&&root.root.console.log("This script was already loaded %c: "+a,debugStyle_warning):(c=jQuery.Deferred(),d=document.getElementsByTagName("body")[0],e=document.createElement("script"),e.type="text/javascript",e.src=a,e.onload=function(){c.resolve()},d.appendChild(e),jsArray[a]=c.promise()),jsArray[a].then(function(){"function"==typeof b&&b()})}function loadTemplate(a,b){var c,d,e;jsArray[a]?debugState&&root.root.console.log("This script was already loaded %c: "+scriptName,debugStyle_warning):(c=jQuery.Deferred(),d=document.getElementsByTagName("body")[0],e=document.createElement("script"),e.type="text/html",e.src=a,e.onload=function(){c.resolve()},d.appendChild(e),jsArray[a]=c.promise()),jsArray[a].then(function(){"function"==typeof b&&b()})}function checkURL(){var b,d,e,a=location.href.split("#").splice(1).join("#");if(!a)try{b=window.document.URL,b&&b.indexOf("#",0)>0&&b.indexOf("#",0)<b.length+1&&(a=b.substring(b.indexOf("#",0)+1))}catch(c){}container=$("#content"),a?($("nav li.active").removeClass("active"),$('nav li:has(a[href="'+a+'"])').addClass("active"),d=$('nav a[href="'+a+'"]').attr("title"),document.title=d||document.title,debugState&&root.console.log("Page title: %c "+document.title,debugStyle_green),loadURL(a+location.search,container)):(e=$('nav > ul > li:first-child a[href!="#"]:eq(0)'),window.location.hash=e.attr("href"),e=null)}function loadURL(a,b){debugState&&root.root.console.log("Loading URL: %c"+a,debugStyle);var c;$.ajax({type:"GET",url:a,dataType:"html",cache:!0,beforeSend:function(){var a,c,d;if($.navAsAjax&&$(".google_maps")[0]&&b[0]==$("#content")[0]&&(a=$(".google_maps"),c=0,a.each(function(){c++;var b=document.getElementById(this.id);c==a.length+1||(b&&b.parentNode.removeChild(b),debugState&&root.console.log("Destroying maps.........%c"+this.id,debugStyle_warning))}),debugState&&root.console.log("✔ Google map instances nuked!!!")),$.navAsAjax&&$(".dataTables_wrapper")[0]&&b[0]==$("#content")[0]&&(console.log($(".dataTables_wrapper")),d=$.fn.dataTable.fnTables(!0),$(d).each(function(){0!=$(this).find(".details-control").length?($(this).find("*").addBack().off().remove(),$(this).dataTable().fnDestroy()):$(this).dataTable().fnDestroy()}),debugState&&root.console.log("✔ Datatable instances nuked!!!")),$.navAsAjax&&$.intervalArr.length>0&&b[0]==$("#content")[0]&&enableJarvisWidgets){for(;$.intervalArr.length>0;)clearInterval($.intervalArr.pop());debugState&&root.console.log("✔ All JarvisWidget intervals cleared")}if($.navAsAjax&&b[0]==$("#content")[0]&&enableJarvisWidgets&&$("#widget-grid")[0]&&($("#widget-grid").jarvisWidgets("destroy"),debugState&&root.console.log("✔ JarvisWidgets destroyed")),$.navAsAjax&&b[0]==$("#content")[0]){if("function"==typeof pagedestroy)try{pagedestroy(),debugState&&root.console.log("✔ Pagedestroy()")}catch(e){pagedestroy=void 0,debugState&&root.console.log("! Pagedestroy() Catch Error")}$.fn.sparkline&&$("#content .sparkline")[0]&&($("#content .sparkline").sparkline("destroy"),debugState&&root.console.log("✔ Sparkline Charts destroyed!")),$.fn.easyPieChart&&$("#content .easy-pie-chart")[0]&&($("#content .easy-pie-chart").easyPieChart("destroy"),debugState&&root.console.log("✔ EasyPieChart Charts destroyed!")),$.fn.select2&&$("#content select.select2")[0]&&($("#content select.select2").select2("destroy"),debugState&&root.console.log("✔ Select2 destroyed!")),$.fn.mask&&$("#content [data-mask]")[0]&&($("#content [data-mask]").unmask(),debugState&&root.console.log("✔ Input Mask destroyed!")),$.fn.datepicker&&$("#content .datepicker")[0]&&($("#content .datepicker").off(),$("#content .datepicker").remove(),debugState&&root.console.log("✔ Datepicker destroyed!")),$.fn.slider&&$("#content .slider")[0]&&($("#content .slider").off(),$("#content .slider").remove(),debugState&&root.console.log("✔ Bootstrap Slider destroyed!"))}pagefunction=null,b.removeData().html(""),b.html('<h1 class="ajax-loading-animation"><i class="fa fa-cog fa-spin"></i> 正在加载中，请稍后...</h1>'),b[0]==$("#content")[0]&&($("body").find("> *").filter(":not("+ignore_key_elms+")").empty().remove(),drawBreadCrumb(),$("html").animate({scrollTop:0},"fast"))},success:function(a){layer.close(c),b.css({opacity:"0.0"}).html(a).delay(50).animate({opacity:"1.0"},300),a=null,b=null},error:function(c,d,e){c.responseText?b.html(c.responseText):b.html('<h4 class="ajax-loading-error"><i class="fa fa-warning txt-color-orangeDark"></i> Error requesting <span class="txt-color-red">'+a+"</span>: "+c.status+' <span style="text-transform: capitalize;">'+e+"</span></h4>")},async:!0})}function drawBreadCrumb(a){var b=$("nav li.active > a"),c=b.length;bread_crumb.empty(),bread_crumb.append($("<li>开始</li>")),b.each(function(){bread_crumb.append($("<li></li>").html($.trim($(this).clone().children(".badge").remove().end().text()))),--c||(document.title=bread_crumb.find("li:last-child").text())}),void 0!=a&&$.each(a,function(a,b){bread_crumb.append($("<li></li>").html(b)),document.title=bread_crumb.find("li:last-child").text()})}function pageSetUp(){if(TF.load_router(),$("input[type=checkbox]").prop("checked",window.__customControls___||!1),$("div.panel").length>0){var a;$("div.panel-body").length>0&&(a=$("div.panel-heading").length>0?TF.getHeight()-115:TF.getHeight()-85,$(".panel-body").css("min-height",a).css("max-height",a).css("height",a))}$(window).resize(function(){if($("div.panel").length>0){var a;$("div.panel-body").length>0&&(a=$("div.panel-heading").length>0?TF.getHeight()-115:TF.getHeight()-85,$(".panel-body").css("min-height",a).css("max-height",a).css("height",a))}}),"desktop"===thisDevice?($("[rel=tooltip], [data-rel=tooltip]").tooltip(),$("[rel=popover], [data-rel=popover]").popover(),$("[rel=popover-hover], [data-rel=popover-hover]").popover({trigger:"hover"}),setup_widgets_desktop(),runAllCharts(),runAllForms()):($("[rel=popover], [data-rel=popover]").popover(),$("[rel=popover-hover], [data-rel=popover-hover]").popover({trigger:"hover"}),runAllCharts(),setup_widgets_mobile(),runAllForms())}function getParam(a){var b,c,d;return a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href),null==d?"":d[1]}var calc_navbar_height,navbar_height,shortcut_dropdown,bread_crumb,topmenu,thisDevice,ismobile,jsArray,initApp,ie,gMapsLoaded;$.intervalArr=[],calc_navbar_height=function(){var a=null;return $("#header").length&&(a=$("#header").height()),null===a&&(a=$('<div id="header"></div>').height()),null===a?49:a},navbar_height=calc_navbar_height,shortcut_dropdown=$("#shortcut"),bread_crumb=$("#ribbon ol.breadcrumb"),topmenu=!1,thisDevice=null,ismobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),jsArray={},initApp=function(a){return a.addDeviceType=function(){return ismobile?($.root_.addClass("mobile-detected"),thisDevice="mobile",fastClick?($.root_.addClass("needsclick"),FastClick.attach(document.body),!1):void 0):($.root_.addClass("desktop-detected"),thisDevice="desktop",!1)},a.menuPos=function(){($.root_.hasClass("menu-on-top")||"top"==localStorage.getItem("sm-setmenu"))&&(topmenu=!0,$.root_.addClass("menu-on-top"))},a.SmartActions=function(){var a={userLogout:function(a){function b(){window.location=a.attr("href")}$.SmartMessageBox({title:"<i class='fa fa-sign-out txt-color-orangeDark'></i> 确认退出 <span class='txt-color-orangeDark'><strong>"+$("#show-shortcut").text()+"</strong></span> ?",content:a.data("logout-msg")||"You can improve your security further after logging out by closing this opened browser",buttons:"[取消][确认]"},function(a){"确认"==a&&($.root_.addClass("animated fadeOutUp"),setTimeout(b,1e3))})},resetWidgets:function(a){$.SmartMessageBox({title:"<i class='fa fa-times-circle-o fa-lg' style='color:red;'></i> 清除本地存储？",content:a.data("reset-msg")||"Would you like to RESET all your saved widgets and clear LocalStorage?1",buttons:"[取消][确认]"},function(a){"确认"==a&&localStorage&&(localStorage.clear(),location.reload())})},launchFullscreen:function(a){$.root_.hasClass("full-screen")?($.root_.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):($.root_.addClass("full-screen"),a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen())},minifyMenu:function(a){$.root_.hasClass("menu-on-top")||($.root_.toggleClass("minified"),$.root_.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"),a.effect("highlight",{},500))},toggleMenu:function(){$.root_.hasClass("menu-on-top")?$.root_.hasClass("menu-on-top")&&$(window).width()<979&&($("html").toggleClass("hidden-menu-mobile-lock"),$.root_.toggleClass("hidden-menu"),$.root_.removeClass("minified")):($("html").toggleClass("hidden-menu-mobile-lock"),$.root_.toggleClass("hidden-menu"),$.root_.removeClass("minified"))},toggleShortcut:function(){function a(){shortcut_dropdown.animate({height:"hide"},300,"easeOutCirc"),$.root_.removeClass("shortcut-on")}function b(){shortcut_dropdown.animate({height:"show"},200,"easeOutCirc"),$.root_.addClass("shortcut-on")}shortcut_dropdown.is(":visible")?a():b(),shortcut_dropdown.find("a").click(function(b){b.preventDefault(),window.location=$(this).attr("href"),setTimeout(a,300)}),$(document).mouseup(function(b){shortcut_dropdown.is(b.target)||0!==shortcut_dropdown.has(b.target).length||a()})}};$.root_.on("click",'[data-action="userLogout"]',function(b){var c=$(this);a.userLogout(c),b.preventDefault(),c=null}),$.root_.on("click",'[data-action="resetWidgets"]',function(b){var c=$(this);a.resetWidgets(c),b.preventDefault(),c=null}),$.root_.on("click",'[data-action="launchFullscreen"]',function(b){a.launchFullscreen(document.documentElement),b.preventDefault()}),$.root_.on("click",'[data-action="minifyMenu"]',function(b){var c=$(this);a.minifyMenu(c),b.preventDefault(),c=null}),$.root_.on("click",'[data-action="toggleMenu"]',function(b){a.toggleMenu(),b.preventDefault()}),$.root_.on("click",'[data-action="toggleShortcut"]',function(b){a.toggleShortcut(),b.preventDefault()})},a.leftNav=function(){topmenu||$("nav ul").jarvismenu({accordion:menu_accordion||!0,speed:menu_speed||!0,closedSign:'<em class="fa fa-plus-square-o"></em>',openedSign:'<em class="fa fa-minus-square-o"></em>'})},a.domReadyMisc=function(){$("[rel=tooltip]").length&&$("[rel=tooltip]").tooltip(),$("#search-mobile").click(function(){$.root_.addClass("search-mobile")}),$("#cancel-search-js").click(function(){$.root_.removeClass("search-mobile")}),$("#activity").click(function(a){var c,b=$(this);b.find(".badge").hasClass("bg-color-red")&&(b.find(".badge").removeClassPrefix("bg-color-"),b.find(".badge").text("0")),b.next(".ajax-dropdown").is(":visible")?(b.next(".ajax-dropdown").fadeOut(150),b.removeClass("active")):(b.next(".ajax-dropdown").fadeIn(150),b.addClass("active")),c=b.next(".ajax-dropdown").find(".btn-group > .active > input").attr("id"),b=null,c=null,a.preventDefault()}),$('input[name="activity"]').change(function(){var a=$(this);url=a.attr("id"),container=$(".ajax-notifications"),loadURL(url,container),a=null}),$(document).mouseup(function(a){$(".ajax-dropdown").is(a.target)||0!==$(".ajax-dropdown").has(a.target).length||($(".ajax-dropdown").fadeOut(150),$(".ajax-dropdown").prev().removeClass("active"))}),$("button[data-btn-loading]").on("click",function(){var a=$(this);a.button("loading"),setTimeout(function(){a.button("reset")},3e3)}),$this=$("#activity > .badge"),parseInt($this.text())>0&&($this.addClass("bg-color-red bounceIn animated"),$this=null)},a.mobileCheckActivation=function(){$(window).width()<979?($.root_.addClass("mobile-view-activated"),$.root_.removeClass("minified")):$.root_.hasClass("mobile-view-activated")&&$.root_.removeClass("mobile-view-activated"),debugState&&console.log("mobileCheckActivation")},a}({}),initApp.addDeviceType(),initApp.menuPos(),jQuery(document).ready(function(){initApp.SmartActions(),initApp.leftNav(),initApp.domReadyMisc()}),function(a,b,c){function l(){f=b[g](function(){d.each(function(){var b,c,d=a(this),e=a.data(this,i);try{b=d.width()}catch(f){b=d.width}try{c=d.height()}catch(f){c=d.height}(b!==e.w||c!==e.h)&&d.trigger(h,[e.w=b,e.h=c])}),l()},e[j])}var f,d=a([]),e=a.resize=a.extend(a.resize,{}),g="setTimeout",h="resize",i=h+"-special-event",j="delay",k="throttleWindow";e[j]=throttle_delay,e[k]=!0,a.event.special[h]={setup:function(){if(!e[k]&&this[g])return!1;var b=a(this);d=d.add(b);try{a.data(this,i,{w:b.width(),h:b.height()})}catch(c){a.data(this,i,{w:b.width,h:b.height})}1===d.length&&l()},teardown:function(){if(!e[k]&&this[g])return!1;var b=a(this);d=d.not(b),b.removeData(i),d.length||clearTimeout(f)},add:function(b){function f(b,e,f){var g=a(this),h=a.data(this,i);h.w=e!==c?e:g.width(),h.h=f!==c?f:g.height(),d.apply(this,arguments)}if(!e[k]&&this[g])return!1;var d;return a.isFunction(b)?(d=b,f):(d=b.handler,b.handler=f,void 0)}}}(jQuery,this),$("#main").resize(function(){initApp.mobileCheckActivation()}),ie=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}(),$.fn.extend({jarvismenu:function(a){var b={accordion:"true",speed:200,closedSign:"[+]",openedSign:"[-]"},c=$.extend(b,a),d=$(this);d.find("li").each(function(){0!==$(this).find("ul").size()&&($(this).find("a:first").append("<b class='collapse-sign'>"+c.closedSign+"</b>"),"#"==$(this).find("a:first").attr("href")&&$(this).find("a:first").click(function(){return!1}))}),d.find("li.active").each(function(){$(this).parents("ul").slideDown(c.speed),$(this).parents("ul").parent("li").find("b:first").html(c.openedSign),$(this).parents("ul").parent("li").addClass("open")}),d.find("li a").click(function(){0!==$(this).parent().find("ul").size()&&(c.accordion&&($(this).parent().find("ul").is(":visible")||(parents=$(this).parent().parents("ul"),visible=d.find("ul:visible"),visible.each(function(a){var b=!0;parents.each(function(c){return parents[c]==visible[a]?(b=!1,!1):void 0}),b&&$(this).parent().find("ul")!=visible[a]&&$(visible[a]).slideUp(c.speed,function(){$(this).parent("li").find("b:first").html(c.closedSign),$(this).parent("li").removeClass("open")})}))),$(this).parent().find("ul:first").is(":visible")&&!$(this).parent().find("ul:first").hasClass("active")?$(this).parent().find("ul:first").slideUp(c.speed,function(){$(this).parent("li").removeClass("open"),$(this).parent("li").find("b:first").delay(c.speed).html(c.closedSign)}):$(this).parent().find("ul:first").slideDown(c.speed,function(){$(this).parent("li").addClass("open"),$(this).parent("li").find("b:first").delay(c.speed).html(c.openedSign)}))})}}),jQuery.fn.doesExist=function(){return jQuery(this).length>0},($.navAsAjax||$(".google_maps"))&&(gMapsLoaded=!1,window.gMapsCallback=function(){gMapsLoaded=!0,$(window).trigger("gMapsLoaded")},window.loadGoogleMaps=function(){if(gMapsLoaded)return window.gMapsCallback();var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src","http://maps.google.com/maps/api/js?sensor=false&callback=gMapsCallback"),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(a)}),$.navAsAjax&&($("nav").length&&checkURL(),$(document).on("click",'nav a[href!="#"]',function(a){a.preventDefault();var b=$(a.currentTarget);b.parent().hasClass("active")||b.attr("target")||($.root_.hasClass("mobile-view-activated")?($.root_.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"),window.setTimeout(function(){window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+b.attr("href"):window.location.hash=b.attr("href")},150)):window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+b.attr("href"):window.location.hash=b.attr("href"))}),$(document).on("click",'nav a[target="_blank"]',function(a){a.preventDefault();var b=$(a.currentTarget);window.open(b.attr("href"))}),$(document).on("click",'nav a[target="_top"]',function(a){a.preventDefault();var b=$(a.currentTarget);window.location=b.attr("href")}),$(document).on("click",'nav a[href="#"]',function(a){a.preventDefault()}),$(window).on("hashchange",function(){checkURL()})),$("body").on("click",function(a){$('[rel="popover"], [data-rel="popover"]').each(function(){$(this).is(a.target)||0!==$(this).has(a.target).length||0!==$(".popover").has(a.target).length||$(this).popover("hide")})}),$("body").on("hidden.bs.modal",".modal",function(){$(this).removeData("bs.modal")});