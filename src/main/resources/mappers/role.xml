<?xml version="1.0" encoding="UTF-8" ?>
<role>
    <findRolePage>
        SELECT
            tor.*,
            tor1.CN_NAME  AS parent_name,
            tou1.username AS create_name,
            tou2.username AS update_name,
            tosm.NAME     AS system_module_name
        FROM t_oauth_user tou1, t_oauth_user tou2,
            t_oauth_role tor LEFT JOIN t_oauth_role tor1 ON tor1.id = tor.parent_id
            LEFT JOIN T_OAUTH_SYSTEM_MODULE tosm ON tor.SYSTEM_CODE = tosm.SYSTEM_CODE
        WHERE tor.create_user = tou1.id AND tor.update_user = tou2.id
    </findRolePage>

    <findRoleTree>
        SELECT *
        FROM T_OAUTH_ROLE tor
        WHERE tor.ENABLED = 1 AND tor.SYSTEM_CODE = ?
    </findRoleTree>

    <checkIsParent>
        SELECT count(0)
        FROM T_OAUTH_ROLE tor
        WHERE tor.ENABLED = 1 AND tor.PARENT_ID = ?
    </checkIsParent>

</role>