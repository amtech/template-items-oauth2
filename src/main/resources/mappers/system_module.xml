<?xml version="1.0" encoding="UTF-8" ?>
<systemModule>
    <findSystemModulePage>
        SELECT
        tosm.*,
        tou1.USERNAME AS createUserName,
        tou2.USERNAME AS updateUserName
        FROM T_OAUTH_SYSTEM_MODULE tosm, t_oauth_user tou1, t_oauth_user tou2
        WHERE tosm.CREATE_USER = tou1.ID AND tosm.UPDATE_USER = tou2.ID
    </findSystemModulePage>

    <deleteModules>
        UPDATE T_OAUTH_SYSTEM_MODULE
        SET ENABLED = 0
        WHERE ID = :id
    </deleteModules>

    <findAllEnabledSystemModules>
        SELECT *
        FROM T_OAUTH_SYSTEM_MODULE
        WHERE ENABLED = 1
    </findAllEnabledSystemModules>

    <isExistSystemCode>
        SELECT count(0)
        FROM T_OAUTH_SYSTEM_MODULE
        WHERE SYSTEM_CODE = ?
    </isExistSystemCode>
</systemModule>